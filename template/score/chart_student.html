{% extends 'dashbord_student/student_base.html' %}
{% block content %}
    <div class="col-lg-9">
        <!-- Card -->
        <div class="card">
            <!-- Header -->
            <div class="card-header border-bottom">
                <h5 class="card-header-title">جزئیات امتیازات</h5>
            </div>
            <!-- End Header -->

            <div style="width: 75%; margin: auto;">
                <canvas id="myChart"></canvas>
            </div>

            <!-- اضافه کردن فونت فارسی از CDN -->
            <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@latest/dist/font-face.css" rel="stylesheet" type="text/css" />

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'line',  // نوع نمودار خطی
                    data: {
                        labels: {{ dates|safe }},  // تاریخ‌ها
                        datasets: [{
                            label: 'امتیازات در طول زمان',
                            data: {{ scores|safe }},  // امتیازها
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 2,
                            fill: false
                        }]
                    },
                    options: {
                        scales: {
                            x: {
                                type: 'category',
                                title: {
                                    display: true,
                                    text: 'تاریخ',
                                    font: {
                                        family: 'Vazir',
                                        size: 14,
                                        weight: 'bold',  // پررنگ‌تر کردن عنوان محور X
                                    },
                                    color: '#000'  // رنگ سیاه برای پررنگ کردن عنوان محور X
                                },
                                ticks: {
                                    font: {
                                        family: 'Vazir',
                                        size: 12,
                                        weight: 'bold',  // پررنگ‌تر کردن اعداد محور X
                                    },
                                    color: '#000'  // رنگ سیاه برای اعداد محور X
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'امتیاز',
                                    font: {
                                        family: 'Vazir',
                                        size: 14,
                                        weight: 'bold',  // پررنگ‌تر کردن عنوان محور Y
                                    },
                                    color: '#000'  // رنگ سیاه برای پررنگ‌تر کردن عنوان محور Y
                                },
                                ticks: {
                                    font: {
                                        family: 'Vazir',
                                        size: 12,
                                        weight: 'bold',  // پررنگ‌تر کردن اعداد محور Y
                                    },
                                    color: '#000'  // رنگ سیاه برای اعداد محور Y
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                labels: {
                                    font: {
                                        family: 'Vazir',
                                        size: 14,
                                        weight: 'bold',  // پررنگ‌تر کردن نوشته‌های راهنما
                                    },
                                    color: '#000'  // رنگ سیاه برای نوشته‌های راهنما
                                }
                            }
                        }
                    }
                });
            </script>
        </div>
        <!-- End Card -->
    </div>
{% endblock %}
